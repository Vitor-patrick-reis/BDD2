--- Aula 02 -----

-- HABILITA O CONTEXTO
USE EMPRESACJ3029352;
GO

-- EXIBE A DATA DE CRIAÇÃO E O NOME DAS TABELAS EXISTENTES NO BANCO EM USO NO MOMENTO
SELECT CREATE_DATE  AS 'DATA DE CRIAÇÃO',
		NAME		AS 'NOME DA TABELA'
FROM SYS.TABLES;
GO

-- ADICIONAR O CAMPO TELEFONE, NA TABELA FUNCIONARIOS
ALTER TABLE FUNCIONARIOS
	ADD TELEFONE CHAR(10)
GO

-- EXIBE TODOS OS REGISTROS DA TABELA FUNCIONARIOS
SELECT * FROM FUNCIONARIOS;
GO

-- EXIBE INFORMAÇOES ESPECIFICAS SOBRE A ESTRUTURA DA TABELA
SELECT TABLE_CATALOG    AS 'BANCO DE DADOS',
	   TABLE_NAME	    AS 'TABELA',
	   ORDINAL_POSITION AS 'POSIÇÃO',
	   COLUMN_NAME      AS 'COLUNA',
	   DATA_TYPE        AS 'TIPO DE DADOS',
	   COLLATION_NAME   AS 'IDIOMA DA COLUNA',
	   IS_NULLABLE      AS 'ACEITA NULO?'
FROM INFORMATION_SCHEMA.COLUMNS
WHERE TABLE_NAME = 'FUNCIONARIOS';
GO

-- ATUALIZA O TELEFONE DE TODOS OS FUNCIONARIOS DE UMA VEZ
-- SINTAXE ERRADA
UPDATE FUNCIONARIOS	
	SET TELEFONE = '3668-0010';
GO

-- ATUALIZA O TELEFONE DE TODOS OS FUNCIONARIOS PARA NULL OU SEJA VOLTO COMO ESTAVA.
UPDATE FUNCIONARIOS	
	SET TELEFONE = NULL;
GO

-- ATUALIZA O TELEFONE APENAS DO ID 1, SINTAXE CORRETA
UPDATE FUNCIONARIOS	
	SET TELEFONE = '1111-1111'
	WHERE ID = 1;
GO

-- ATUALIZA O TELEFONE APENAS DO ID 2, SINTAXE CORRETA
UPDATE FUNCIONARIOS	
	SET TELEFONE = '2222-2222'
	WHERE ID = 2; --WHERE É USADO PARA SELECIONAR O ID OU QUALQUER OUTRO ATRIBUTO ESPECIFICO.
GO

-- ATUALIZA DOS DEMAIS FUNCIONARIOS USANDO O WHERE.
UPDATE FUNCIONARIOS	SET TELEFONE = '3333-3333' WHERE ID = 3;
UPDATE FUNCIONARIOS	SET TELEFONE = '4444-4444' WHERE ID = 4;
UPDATE FUNCIONARIOS	SET TELEFONE = '5555-5555' WHERE ID = 5;
UPDATE FUNCIONARIOS	SET TELEFONE = '6666-6666' WHERE ID = 6;
UPDATE FUNCIONARIOS	SET TELEFONE = '7777-7777' WHERE ID = 7;
UPDATE FUNCIONARIOS	SET TELEFONE = '8888-8888' WHERE ID = 8;
UPDATE FUNCIONARIOS	SET TELEFONE = '9999-9999' WHERE ID = 9;
UPDATE FUNCIONARIOS	SET TELEFONE = '1010-1010' WHERE ID = 10;
GO

-- EXIBE TODOS OS REGISTROS DA TABELA FUNCIONARIOS
SELECT * FROM FUNCIONARIOS;
GO

-- CONCEDE UM AUMENTO DE 10% PARA OS FUNCIONARIOS QUE FORAM ADMITIDOS ANTES DE 2016
UPDATE FUNCIONARIOS	
	SET SALARIO  = SALARIO * 1.10
	WHERE YEAR (ADMISSAO) < 2016;
GO

-- EXIBE TODOS OS REGISTROS DA TABELA FUNCIONARIOSCOPIA
SELECT * FROM FUNCIONARIOSCOPIA;
GO

-- REMOVE OS FUNCIONARIOS DA TABELA FUNCIONARIOSCOPIA
-- CUJO O SALARIO SEJA MENOR DO QUE R$ 1500,00.
DELETE FROM FUNCIONARIOSCOPIA
WHERE SALARIO < 1500;
GO

